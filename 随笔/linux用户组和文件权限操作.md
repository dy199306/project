### linux在终端创建用户

#### 1 创建用户

**useradd -m 用户名**

#### 2 创建组

**groupadd 组名**

#### 3 给用户绑定主组/附加组（删除主组时需保证改组内无用户，删除附加组不影响组内用户）

**usermod -g/-G 组名 用户名**

### 4 删除用户

**userdel -f/-r用户名**

-f：强制删除用户，即使用户当前已登录

 -r：删除用户的同时，删除与用户相关的所有文件。

### 5 删除组 （注：当组为主组时，删除失败，必须清空该组下的用户，才能删除）

**groupdel 组名**



### 6 常规指令

groups 查看当前登录用户的组内成员

whoami 查看当前登录用户名

/etc/group文件包含所有组

/etc/shadow和/etc/passwd系统存在的所有用户名

grep：搜索文件中的文本内容： grep "abc" node.txt

将某一种的搜索结论作为grep的查找范围，需要使用管道，符号为   |
例： apt search mysql* | grep server

### 7 apt指令

apt install 软件名 安装
apt remove  软件名 卸载
apt update  软件名 更新
apt search  软件名 搜索



### 8 关于UID和GID

　　setuid: 设置使文件在执行阶段具有文件所有者的权限. 典型的文件是 /usr/bin/passwd. 如果一般用户执行该文件, 则在执行过程中, 该文件可以获得root权限, 从而可以更改用户的密码.
　　setgid: 该权限只对目录有效. 目录被设置该位后, 任何用户在此目录下创建的文件都具有和该目录所属的组相同的组. 
　 　sticky bit: 该位可以理解为防删除位. 一个文件是否可以被某用户删除, 主要取决于该文件所属的组是否对该用户具有写权限. 如果没有写权限, 则这个目录下的所有文件都不能被删除, 同时也不能添加新的文件. 如果希望用户能够添加文件但同时不能删除文件, 则可以对文件使用sticky bit位. 设置该位后, 就算用户对目录具有写权限, 也不能删除该文件. 

### 9 linux文件的用户权限

ls -l

```
-l：以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等；
```

1、Linux中的文件特性：
   Linux下所有的文件都是通过权限设置的。

2、权限分为十位  d rwx rwx rwx 
   第一位是类型:

###    d: 代表的是目录

###    -: 代表的是文件

###    l: 代表的是连接 

![linux文件的用户权限的分析图](http://man.linuxde.net/wp-content/uploads/2013/11/chmod.gif)

例：rwx　rw-　r--

r=读取属性　　//值＝4
w=写入属性　　//值＝2
x=执行属性　　//值＝1

#### 设置文件的权限

3.1、修改文件权限命令

	chmod [ugoa] [+-=] [rwx-] 文件或文件夹
	如:
	chmod o+w  aa  添加一个权限
	chmod o-rwx  aa 删除某个权限
	chmod o=-   aa 重新设置权限
	chmod g=rw- aa
	    chmod go=rw- aa
	    chmod g=rw-,o=--- aa 设置多中权限
	用户选项说明:
	u: user 代表当前用户
	g: group 代表当前的组
	o: other 代表其他的组
	a: all 代表所有的用户
	
	权限操作选项
	+: 添加一个权限
	-: 删除一个权限
	w: 重新设置某个权限


	3.2、修改文件权限命令

	数值设置法: 0-7 
	r-w-x  相对应的值 4-2-1
	权限    值
	---     0
	--x     1
	-w-     2
	r--     4
	-wx     3
	r-x     5
	rw-     6
	rwx     7 
	
	格式: chmod xyz 目录或者文件名
	x 表示当前用户的数值权限
	y 表示当前组的数值权限
	z 表示其他组的数值权限
**设置一个文件拥有rwx（读/写/执行权限）**
**chmod 777 文件名**

